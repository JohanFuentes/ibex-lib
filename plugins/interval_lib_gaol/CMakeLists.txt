# Options
set(GAOL_DIR "" CACHE PATH "Path to the Gaol lib and include directories")

#
include (CheckIncludeFileCXX)

# Looking for gaol.h
if (GAOL_DIR)
  set (CMAKE_REQUIRED_INCLUDES ${GAOL_DIR}/include)
endif ()
CHECK_INCLUDE_FILE_CXX (gaol/gaol.h HAVE_GAOL_H)
unset (CMAKE_REQUIRED_INCLUDES)

if (${HAVE_GAOL_H})
  if (GAOL_DIR)
    set (INTERVAL_LIB_INCDIRS ${GAOL_DIR}/include PARENT_SCOPE)
  endif ()
else ()
  message (FATAL_ERROR "gaol.h not found, no automatic installation yet")
endif ()

# Looking for libgaol
set (INTERVAL_LIB_LIBDIR "${CMAKE_CURRENT_SOURCE_DIR}/dependencies/build/lib")

# With Gaol, we add "-Wno-deprecated" to remove lots of warnings generated by
# a function definition in gaol_interval.h
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wno-deprecated" PARENT_SCOPE)
CHECK_CXX_COMPILER_FLAG("-Wno-deprecated" COMPILER_SUPPORTS_WNO_DEPRECATED)
if(COMPILER_SUPPORTS_WNO_DEPRECATED)
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wno-deprecated")
endif()

#
#FILE (READ ${CMAKE_SOURCE_DIR}/plugins/interval_lib_gaol/wrapper.cpp IBEX_INTERVAL_LIB_WRAPPER_CPP)
